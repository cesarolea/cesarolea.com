<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>ClojureScript Setup Made Easier With Anvil - César Olea</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta itemprop="name" content="ClojureScript Setup Made Easier With Anvil">
<meta itemprop="description" content="Some time ago I wrote a series posts in the devz.mx blog on setting up a ClojureScript project from scratch. I did it for learning how to do it myself. There’s multiple leiningen templates that will set it up for you, but I always fell short when wanting to set up a more complex environment such as a browser connected REPL, code evaluation from your editor, setting up multiple ClojureScript libraries, and more.">
<meta itemprop="datePublished" content="2020-09-24T11:58:00-07:00" />
<meta itemprop="dateModified" content="2020-09-24T11:58:00-07:00" />
<meta itemprop="wordCount" content="419">



<meta itemprop="keywords" content="" />
<meta property="og:title" content="ClojureScript Setup Made Easier With Anvil" />
<meta property="og:description" content="Some time ago I wrote a series posts in the devz.mx blog on setting up a ClojureScript project from scratch. I did it for learning how to do it myself. There’s multiple leiningen templates that will set it up for you, but I always fell short when wanting to set up a more complex environment such as a browser connected REPL, code evaluation from your editor, setting up multiple ClojureScript libraries, and more." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://www.cesarolea.com/posts/clojurescript-setup-made-easier-with-anvil/" />
<meta property="article:published_time" content="2020-09-24T11:58:00-07:00" />
<meta property="article:modified_time" content="2020-09-24T11:58:00-07:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="ClojureScript Setup Made Easier With Anvil"/>
<meta name="twitter:description" content="Some time ago I wrote a series posts in the devz.mx blog on setting up a ClojureScript project from scratch. I did it for learning how to do it myself. There’s multiple leiningen templates that will set it up for you, but I always fell short when wanting to set up a more complex environment such as a browser connected REPL, code evaluation from your editor, setting up multiple ClojureScript libraries, and more."/>
<link href='https://fonts.googleapis.com/css?family=Playfair+Display:700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" media="screen" href="http://www.cesarolea.com/css/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="http://www.cesarolea.com/css/main.css" />

        <link id="dark-scheme" rel="stylesheet" type="text/css" href="http://www.cesarolea.com/css/dark.css" />

	<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
		<script src="http://www.cesarolea.com/js/main.js"></script>
</head>

<body>
	<div class="container wrapper">
		<div class="header">
	
	<h1 class="site-title"><a href="http://www.cesarolea.com/">César Olea</a></h1>
	<div class="site-description"><p>Software Developer | CTO of <a href="https://loanpro.io">LoanPro</a></p><nav class="nav social">
			<ul class="flat"><li><a href="https://github.com/cesarolea" title="Github"><i data-feather="github"></i></a></li><li><a href="https://linkedin.com/in/cesarolea" title="Linkedin"><i data-feather="linkedin"></i></a></li><li><a href="/index.xml" title="RSS"><i data-feather="rss"></i></a></li></ul>
		</nav><span class="scheme-toggle"><a href="#" id="scheme-toggle"></a></div>

	<nav class="nav">
		<ul class="flat">
			
			<li>
				<a href="/">Home</a>
			</li>
			
			<li>
				<a href="/posts">Blog</a>
			</li>
			
			<li>
				<a href="/about">About</a>
			</li>
			
			<li>
				<a href="/resume.pdf">Resume</a>
			</li>
			
		</ul>
	</nav>
</div>


		<div class="post">
			<div class="post-header">
				
					<div class="meta">
						<div class="date">
							<span class="day">24</span>
							<span class="rest">Sep 2020</span>
						</div>
					</div>
				
				<div class="matter">
					<h1 class="title">ClojureScript Setup Made Easier With Anvil</h1>
				</div>
			</div>
					
			<div class="markdown">
				<p>Some time ago <a href="https://blog.devz.mx/clojurescript-sin-atajos-fase-1/">I wrote a series posts</a> in the devz.mx blog on setting up a ClojureScript project from scratch. I did it for learning how to do it myself. There’s multiple leiningen templates that will set it up for you, but I always fell short when wanting to set up a more complex environment such as a browser connected REPL, code evaluation from your editor, setting up multiple ClojureScript libraries, and more.</p>
<p>From the learning perspective, it was a success. I was able to learn the ins and outs of setting up a new ClojureScript project, and used it for my personal projects. Eventually I decided to wrap everything in a leiningen template and publish it for everyone else to use. Enter <a href="https://github.com/cesarolea/anvil-lein-template">anvil</a>.</p>
<p>Anvil is a leiningen template for creating a mostly bare-bones ClojureScript template. The purpose is to get you up and running with an efficient workflow with as little boilerplate code as possible. The extras are up to you. Anvil is opinionated in what exactly is an efficient workflow, and its geared towards people working with Emacs and familiar with Clojure (not just ClojureScript).</p>
<p>What Anvil gives you out of the box is:</p>
<ul>
<li>Hot reloading of Web assets (html, JavaScript, CSS and ClojureScript) with Figwheel.</li>
<li>Linting support with clj-kondo.</li>
<li>A networked REPL that allows you to evaluate code from your connected editor, and also a browser connected REPL that allows you to evaluate code in your browser.</li>
<li>An option to support Reagent and Re-Frame.</li>
<li>An option to use a virtualized environment with Docker.</li>
</ul>
<h2 id="workflow">Workflow</h2>
<p>The workflow is the same if you choose to use Docker or go native:</p>
<ol>
<li>Create a new project with <code>lein new anvil my-awesome-project</code>. You can add additional options to support docker, reagent and/or reframe: <code>lein new anvil my-awesome-project +docker +reagent +reframe</code></li>
<li>Change to the project directory and start a REPL with lein repl</li>
<li>Connect your editor to the running REPL. In Emacs/Cider this is done with <code>cider-connect-clj</code></li>
<li>Once in the Clojure REPL evaluate <code>(start)</code> and it should start the figwheel process. Navigate to <code>localhost:9500</code> in your browser, it should connect and at that moment the ClojureScript REPL is available and connected to your editor.</li>
</ol>
<p>When you are ready to go to production, a <code>lein fig:prod</code> will compile everything for you with all optimizations turned on.</p>
<p>If this sounds like something you might want to use, there’s more instructions and options in <a href="https://github.com/cesarolea/anvil-lein-template">the Github page</a>. The template is published to Clojars, so it should be readily available for you to use.</p>
<p>Happy Clojuring!</p>

			</div>

			<div class="tags">
				
					
				
			</div></div>
	</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div> © Copyright César Olea 2020 </div>
	</nav>
</div><script>feather.replace()</script>
</body>
</html>
